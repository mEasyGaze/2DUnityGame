## 腳本修正
請根據以下整理出腳本修改方案編成新的腳本代碼，並列出新增腳本、修改腳本、刪除腳本。
修正腳本名稱長度，盡量簡化。

### AI 智能戰鬥系統

#### 1. `EnemyBattleAI.cs` - AI 總司令

*   核心職責：作為`AI的決策主腦`，負責在「敵人回合」開始時，為己方所有單位制定出一整套的行動計劃。
*   工作流程：
    1. 接收命令：在敵人回合開始時，被 `TurnManager` 調用。
    2. 確定軍師：接收 `BattleManager` 傳遞過來的 `AIPersonalitySO` (AI 人格)，這位「軍師」將決定本次戰鬥的總體戰術風格，若是沒有接收到 `AIPersonalitySO` (AI 人格)，則使用自身的通用「戰術」。
    3. 逐一授權：遍歷己方所有存活的單位 (`BattleUnit`)，將決策權逐一交給這位「軍師」。
    4. 評斷分數：評斷「軍師」在行動格中的行動分數，並制定出「最高分行動」。
    5. 下達指令：將「軍師」為每個單位制定的「最優行動」依序記錄到 `TurnActionPlanner` (回合行動規劃器) 中。
*   比喻：AI 總司令。他自己不制定具體戰術，但他知道該在什麼時候、問哪個軍師（`AIPersonalitySO`），並確保每個士兵都有事可做。

#### 2. `AIPersonalitySO.cs` - 軍師 / 戰術風格

*   核心職責：定義一個 AI 的`宏觀戰術風格`。它本身不思考，而是像一個文件櫃，存放著為不同戰場位置準備的專屬「戰術文件夾」。
*   工作流程：
    1. 提供手冊：當 `EnemyBattleAI` (總司令) 詢問：「現在輪到位於『前衛』的單位行動了，我該怎麼辦？」，`AIPersonalitySO` (軍師) 會從自己的文件櫃裡，拿出標有「前衛 (`EnemyVanguard`)」的**戰術文件夾 (`PositionalStrategy`)**。
*   比喻：軍師或戰術風格的化身（例如「蒙恬將軍 - 善用前鋒」、「韓信將軍 - 擅長奇襲」）。每個軍師都有自己的一套戰術體系。

#### 3. `SituationSO.cs` - 戰術卡 / 情境劇本

*   核心職責：一張具體的`戰術指令卡`，描述了「在什麼情況下，應該採用何種評分標準」。
*   工作流程：
    1. 條件判斷：`EnemyBattleAI` (總司令) 會拿起一張戰術卡，詢問：「當前的戰況（我方血量、敵人數量、回合數）是否符合這張卡上的觸發條件 (`Triggers`)？」
    2. 提供策略：如果條件滿足，這張卡就會把自己的評分策略 (`scoringModifiers` 列表) 交給總司令，告訴他接下來該如何評估行動的優劣。
*   比喻：一張錦囊妙計或戰術卡。例如，「敵軍勢大，我軍兵力不足三成時，執行此計」、「敵將已被我軍包圍時，執行此計」。

#### 4. `SM_MultiCondition_SO.cs` - 參謀 / 規則顧問 (核心評分工具)

*   核心職責：AI 系統的`原子級規則顧問`。它的職責非常專一：回答一個問題：「對於這個正在考慮的行動，在滿足 A、B、C 等多個條件下，我應該給它加多少分或減多少分？」
*   工作流程：
    1. 接收評估請求：`EnemyBattleAI` (總司令) 會拿著一個候選行動（例如，「攻擊敵方前衛」）來諮詢這位參謀。
    2. 多重條件核查：這位參謀會檢查自己手頭上的所有條件 (`conditions` 列表)，例如：「行動者是否是前衛？」「他的血量是否低於20%？」「他考慮攻擊的目標距離是否為1？」
    3. 給出評分：只有當**所有條件都滿足**時，這位參謀才會根據預設的評分標準 (`scores` 列表) 給出一個具體的分數（例如，「攻擊：-50分」、「交換位置：+100分」）。如果任何一個條件不滿足，啟用 `EnemyBattleAI.cs` 自身的通用「戰術」。
*   比喻：一位專精於某一領域的參謀。例如，「地形參謀」只負責評估地形對行動的影響，「士氣參謀」只負責評估士氣的影響。總司令會諮詢所有相關的參謀，綜合他們的意見。

#### 5. 其他 `SM_SO` 腳本 (專業參謀)

*   `SM_OutcomePrediction_SO.cs`
    *  職責：`未來預測官`。專門負責評估一個行動可能導致的**直接後果**（如：「能否一擊必殺」）。
*   `SM_CommanderSkill_SO.cs`
    *  職責：`最高參謀`。專門負責評估是否動用王牌——「指揮官技能」。

---

### 戰鬥單位-模板
#### 對應 `位置` 模板(如：前衛、遠程1、遠程2) `SM_MultiCondition_SO.cs`
當單位在[？]位置時的行動分數[？]
當單位在[？]位置時，因血量改變行動分數[？]
當單位在[？]位置時，因攻擊距離改變行動分數[？]
當單位在[？]位置時，因體力改變行動分數[？]

#### AI 人格
```
前衛戰術文件[情境]
遠程1戰術文件[情境]
遠程2戰術文件[情境]
後勤(指揮官)戰術文件[情境]
通用戰術文件[情境](可不放置)
```

### 情境(戰術文件)
單位情境(SM_MultiCondition_SO.cs)
通用情境(SM_OutcomePrediction_SO.cs)
指揮官情境(SM_CommanderSkill_SO.cs)

#### 指揮官情境 `SM_CommanderSkill_SO.cs`
```
A 選擇 -> B指揮官技能類型{攻擊、防禦、治癒、輔助(Buff/Debuff)}
B當敵人血量數值為[？] -> 技能分數[？]
B當團隊血量數值為[？] -> 技能分數[？]
B當回合數為[？] -> 技能分數[？]
```

#### 單位情境-條件分數 `SM_MultiCondition_SO.cs`
```
A 選擇 -> B{血量、攻擊距離、體力}
B(血量) 選擇 -> C{血量範圍[？]~[？]}
B(攻擊距離) 選擇 -> D{攻擊範圍[？]~[？]}
B(體力) 選擇 -> E{體力範圍[？]~[？]}

F 選擇 {攻擊、防禦、休息、交換、技能、道具} -> G 調整分數
```

#### 通用情境 `SM_OutcomePrediction_SO.cs`
擊殺敵人分數[？]
單位死亡分數[？]
團隊失敗分數[？]
團隊獲勝分數[？]

---

(舉例)
### 基礎AI人格

1. 前衛時：

    (1) 情境
    * 血量60%以上攻擊+50分、防禦+20分、休息+0分、交換位置-50分
    * 血量60%以下攻擊+50分、防禦+50分、休息+0分、交換位置+0分
    * 血量20%以下攻擊+0分、防禦+50分、休息-50分、交換位置+50分

    (2) 補充情境-當攻擊距離為2或3
    * 攻擊+20分、防禦+20分、休息+0分、交換位置+50分

    (3) 補充情境-當體力低於一半，或體力不夠攻擊
    * 攻擊-50分、防禦+20分、休息+100分、交換位置+0分

2. 遠程1時：

    (1) 補充情境-當攻擊距離為2或3
    * 血量60%以上攻擊+50分、防禦-100分、休息+0分、交換位置+0分
    * 血量60%以下攻擊+50分、防禦-50分、休息+0分、交換位置-50分

    (2) 補充情境
    * 當攻擊距離為1時，攻擊-50分、防禦+0分、休息+0分、交換位置(到前衛)+50分

    (3) 補充情境-當體力低於一半，或體力不夠攻擊
    * 攻擊-50分、防禦+20分、休息+100分、交換位置+0分

3. 遠程2時：

    (1) 補充情境-當攻擊距離為3
    * 血量60%以上攻擊+50分、防禦-100分、休息+0分、交換位置+0分
    * 血量60%以下攻擊+50分、防禦-50分、休息+0分、交換位置-50分

    (2) 補充情境
    * 當攻擊距離為1時，攻擊-50分、防禦+0分、休息+0分、交換位置(到遠程1)+50分
    * 當攻擊距離為2時，攻擊-50分、防禦+0分、休息+0分、交換位置(到遠程1)+50分

    (3) 補充情境-當體力低於一半，或體力不夠攻擊
    * 攻擊-50分、防禦+20分、休息+100分、交換位置+0分

4. 後勤(指揮官)

    (1) 情境
    * 施放指揮官技能+0分
    * 當隊友血量低於60%，指揮官技能+50分

5. 團體

    (1) 情境
    * 單位陣亡-200分
    * 戰鬥失敗-1000分